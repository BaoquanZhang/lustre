<?xml version="1.0"?>
<!DOCTYPE lustre SYSTEM "../utils/lustre.dtd">

<lustre>
  <node name="localhost" uuid="localhost-UUID">
    <network type='tcp' name='net' uuid="net-UUID" >
      <server>localhost</server>
      <port>2432</port>
    </network>
    <profile_ref uuidref="local-profile-UUID"/>
  </node>

  <profile name="local-profile" uuid="local-profile-UUID">
    <service_ref uuidref="net-UUID"/>
    <service_ref uuidref="ldlm-srv-UUID"/>
    <service_ref uuidref="lov1-UUID"/>
    <service_ref uuidref="mtpt1-UUID"/>
    <service_ref uuidref="mdc1-UUID"/>
    <service_ref uuidref="mds-UUID"/>
    <service_ref uuidref="obd1-UUID"/>
    <service_ref uuidref="obd2-UUID"/>
    <service_ref uuidref="ost1-UUID"/>
    <service_ref uuidref="ost2-UUID"/>
    <service_ref uuidref="osc1-UUID"/>
    <service_ref uuidref="osc2-UUID"/>
  </profile>

  <ldlm name="ldlm-srv" uuid="ldlm-srv-UUID"/>

  <lov name="lov1" uuid="lov1-UUID">
    <mdc_ref uuidref="mdc1-UUID"/>
    <devices stripesize="65536" pattern="0">
      <osc_ref uuidref="osc1-UUID"/>
      <osc_ref uuidref="osc2-UUID"/>
    </devices>
  </lov>

  <mdc name="mdc1" uuid="mdc1-UUID">
    <network_ref name='net' uuidref='net-UUID'/>
    <mds_ref uuidref="mds-UUID"/>
  </mdc>

  <mds name="mds" uuid="mds-UUID">
    <network_ref name='net-local' uuidref="net-local-UUID"/>
    <fstype>extN</fstype>
    <device size="50000">/tmp/mds</device>
    <autoformat>yes</autoformat>
  </mds>

  <osc name="osc1" uuid="osc1-UUID">
    <network_ref name='net' uuidref='net-UUID'/>
    <obd_ref uuidref="obd1-UUID"/>
  </osc>

  <osc name="osc2" uuid="osc2-UUID">
    <network_ref name='net' uuidref='net-UUID'/>
    <obd_ref uuidref="obd2-UUID"/>
  </osc>

  <ost name="ost1" uuid="ost1-UUID">
    <network_ref name='net' uuidref='net-UUID'/>
    <obd_ref uuidref='obd1-UUID'/>
  </ost>

  <ost name="ost2" uuid="ost2-UUID">
    <network_ref name='net' uuidref='net-UUID'/>
    <obd_ref uuidref='obd2-UUID'/>
  </ost>

  <obd name="obd1" uuid="obd1-UUID" type="obdfilter">
    <fstype>extN</fstype>
    <device size="100000">/tmp/obd1</device>
    <autoformat>yes</autoformat>
  </obd>

  <obd name="obd2" uuid="obd2-UUID" type="obdfilter">
    <fstype>extN</fstype>
    <device size="100000">/tmp/obd2</device>
    <autoformat>yes</autoformat>
  </obd>

  <mountpoint name="mtpt1" uuid="mtpt1-UUID">
    <path>/mnt/lustre</path>
    <mdc_ref uuidref="mdc1-UUID"/>
    <osc_ref uuidref="lov1-UUID"/>
  </mountpoint>

</lustre>
