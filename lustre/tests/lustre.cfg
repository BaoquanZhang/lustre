#!/bin/sh

# Common configuration options
# Config file for setting up a remote server with a real OST
NETWORK=tcp
LOCALHOST=`hostname`
SERVER=$LOCALHOST
OSTNODE=$LOCALHOST
CLIENTS=*
#SERVER=dev4
#OSTNODE=dev4
PORT=2432

# Config file for setting up the lock manager
SETUP_LDLM=y

#case `echo $LOCALHOST | sed "s/\.[^|]*//"` in
case $LOCALHOST in
$SERVER)
	# Config for setting up a metadata server
	MDSFS=extN
	MDSDEV=/tmp/mds
	MDSSIZE=50000
	SETUP_MDS=y
	;;
esac

case $LOCALHOST in
$OSTNODE)
	# Config for setting up an object storage target with obdfilter
	OSTDEV=/tmp/ost
	OSTSIZE=200000
	OSTFS=extN
	OSTTYPE=obdfilter
	SETUP_OST=y
	;;
esac

case $LOCALHOST in
$CLIENTS)
	# Config for setting up a client filesystem mount
	SETUP_MDC=y
	SETUP_OSC=y
	OSCMT=/mnt/lustre
	SETUP_MOUNT=y
	;;
esac
