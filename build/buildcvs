# This file is sourced by lustre/lustrecvs

portalstag="HEAD"
libsysiotag="HEAD"
snmptag=""

export LC_COLLATE=C

case "$lustretag" in
    '')
	warn "a lustretag is required."
	usage >&2
	exit 1
	;;
    --help | -h)
	usage
	exit 0
	;;

    # this is the branch table
    # keep this list sorted alphabetically!
    b1_2)
	portalstag="b1_2"
	;;

    b1_4)
	snmptag="HEAD"
	;;

    b1_4_newconfig)	
        portalstag="b_hd_newconfig"
	;;

    b_cmd*)
    	portalstag="$lustretag"
	;;

    b_port_ahead)
	portalstag="b_port_ahead"
	;;

    b_port_netid)
	portalstag="b_port_netid"
	;;

    # b_port_step is only for portals
    b_port_step)
	portalstag="b_port_step"
	lustretag="HEAD"
	;;

    b_port_test)
	portalstag="b_port_test"
	;;

    b_ptl_smallfix)
	portalstag="b_ptl_smallfix"
	lustretag="b1_4"
	;;

    b_ptlrpc_cleanup)
	portalstag="b_ptlrpc_cleanup"
	;;

    b_release_*)
	portalstag=$lustretag
	;;

    b_ioprovement)
	portalstag=b_ioprovement
	;;

    v1_[0-3]*|v1_4_*|[A-Z]*)
	portalstag="$lustretag"
	;;

    v[1-9]*|cray_200[5-9]*)
	portalstag="$lustretag"
	libsysiotag="$lustretag"
	;;
esac

cvs_cmd libsysio libsysio "$libsysiotag"
cvs_cmd portals portals "$portalstag"
cvs_cmd snmp lustre-snmp "$snmptag"
cvs_cmd lustre lustre-core "$lustretag"
